<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Remove Item</title>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    <script>
        // Function to get the item_id from the URL query parameters
        function getItemIdFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('item_id');
        }

        // Function to remove an item from the cart
        function removeFromCart(item_id) {
            // Retrieve the cart from localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || {};

            // Check if the item exists in the cart
            if (cart[item_id]) {
                // Remove the item from the cart
                delete cart[item_id];

                // Update the cart in localStorage
                localStorage.setItem('cart', JSON.stringify(cart));
            }
        }

        // Function to handle item removal and redirection
        function handleRemoveItem() {
            const item_id = getItemIdFromUrl(); // Get the item_id from URL
            if (item_id) {
                removeFromCart(item_id); // Remove the item from the cart
            }

            // Redirect back to the shopping cart page
            window.location.href = "shoppingcart.html"; // Adjust the file extension based on your setup
        }

        // Call the handleRemoveItem function when the page loads
        window.onload = handleRemoveItem;
    </script>
</head>
<body>
</body>
</html>
